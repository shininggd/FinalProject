<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
<mapper namespace="TutorMapper">
	

	<insert id="memberJoin" parameterType="com.kh.member.MemberDTO">
		insert into member values(#{id}, #{pw}, #{name}, #{birth}, #{grade},#{point}, #{email}, #{telecom}, #{phone}, 'default.png', 'default.png')
	
	</insert>
	
	<insert id="tutorJoin" parameterType="com.kh.member.MemberDTO" >
		insert into tutor values(#{id}, 'unreceived', 0, 'f', 'introduce')
	</insert>
	
	<select id="tutorLogin" parameterType="com.kh.member.MemberDTO" resultType="com.kh.member.tutor.TutorDTO">
		select M.*, T.* from member M, tutor T 
		where M.id=#{id} and M.pw=#{pw} and M.id=T.id
	</select>
	
	<select id="tutorStudyInfo" parameterType="java.lang.String" resultType="com.kh.member.tutor.TutorDTO">
		select * from tutor where id = #{tid}
	</select>
	<!-- 관리자페이지에서 튜터데이터 가져오기 -->
	<select id="tutorInfo" parameterType="java.lang.String" resultType="com.kh.member.tutor.TutorDTO">
		select * from tutor
	</select>
	<!-- 관리자 페이지에서 레벨,권한 수정하기 -->
	<update id="adminTupdate" parameterType="com.kh.member.tutor.TutorDTO">
		update tutor set lv=#{lv}, right=#{right} where id=#{id}
	</update>
</mapper>